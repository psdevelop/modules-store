Проект ПланФикс
============================

1. Синхронизация контактов кабинет ~ Planfix
2. Синхронизация заметок контактов кабинет ~ Planfix
3. Синхронизация чатов с сообщениями контактов кабинет ~ Planfix
4. Синхронизация запросов на срочную выплату кабинет ~ Planfix

Запуск тестов
============================
Тесты написаны только для тикетов/сообщений

`./vendor/bin/codecept run`

Синхронизация тикетов и сообщений из тикетов
============================
В корне лежит папка modules, внутри неё есть модуль tickets. Структура модуля:

commands - консольные команды

controllers - контроллеры вызова api синхронизатора

	-leads - вызывается когда что-то происходит на стороне кабинета(добавился тикет или сообщение)
	-planfix - вызывается когда что-то происходит на стороне planfix (изменился статус задачи или добавилось сообщение)

dto - DTO объекты

forms - валидация запросов

models - модели
	
	-cabinet - здесь хранится всё что относится к кабинетам тикеты/сообщения/инфма о ак и т.д.
	-planfix - модели которые относятся к pf
	-sync - модели которые находятся в синхронизаторе. Например модель мапинга тикета на задачу в PF

repositories - репозитории

services - сервисы

	-EnvironmentService - сервис устанавливающий с чем мы будем работать leads.su или leads.black
	-JobSycService - сервис задач. Так как синхронизатор работает на задачах, то необходимо все задачи добавлять через этот сервис.
	-SyncMessageService - сервис ищет новые/измененые сообщения в тикетах/задачах и на основе этих данных создает новые задачи
	-SyncTicketService - сервис ищет новые/измененные тикеты/задачи и добавляет задачу на синхорнизацию
	-TaskMessageService - сервис содержащий логику синхронизации сообщений из pf в кабинет
	-TaskService - сервис содержащий логику синхронизации задач pf в тикеты leads
	-TicketMessageService - сервис содержащий логику синхронизации сообщений из кабинета в pf
	-TicketService - сервис содержащий логику синхронизации тикетов leads в задачи pf
	