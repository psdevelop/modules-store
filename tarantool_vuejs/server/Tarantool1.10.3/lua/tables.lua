tables = {}

function create_testusers()
    box.space.crm_user:insert({nil,'77dfc0ac2769170135851cf6dfdbba521c4b7fec832d2ffde6a16d4d0d7ca372','Киселёв Всеслав Тарасович',2})
    box.space.crm_user:insert({nil,'53439feabc44f2b8a4e355d5ddc67a55d5c52a2086882f76079913907e6fa897','Борев Григорий Аникитевич',2})
    box.space.crm_user:insert({nil,'bc5c9e6aad17bef2d6cdcd00014dfb3c03a84eb91eda73aaf9ffe8844cee00de','Гольдина Наталия Никитевна',2})
    box.space.crm_user:insert({nil,'c170984f62fab56669aa4ca37c79b03107299b5848938b11c43b939e89c80898','Витвинский Макар Капитонович',2})
    box.space.crm_user:insert({nil,'6b13892b4438cc69470029acf594989fda0a5f1409274d84a9139e10b25f73a5','Аксёнов Изяслав Семенович',2})
    box.space.crm_user:insert({nil,'1f2cf255db9c142bc69115508a6229f27562facbaf6b586c32b89ad8d143602c','Жутова Нона Родионовна',2})
    box.space.crm_user:insert({nil,'0007ed7c88ed48fa15b930f1ac19c6b8d424264a13894a78e5d3e45d87353fa1','Чуканов Измаил Венедиктович',2})
    box.space.crm_user:insert({nil,'b69e25613b7fc734d7d5d0a6390dc5fdb9a338317023412462124aa89367c9ce','Негеса Христина Елизаровна',2})
    box.space.crm_user:insert({nil,'64d45da5160139ad54d13366d3e3969869c228ebad1916edbee86060450a4fe7','Картавый Владимир Андриянович',2})
    box.space.crm_user:insert({nil,'0a826960fb8caac9f0f099352f071a63bb7834d35c2d4fef6d91944359379296','Савинкова Виктория Захаровна',2})
    box.space.crm_user:insert({nil,'081d806d165b46a715a181ec61407a90659135fa4776b0d5341e34d4665c8e07','Буклин Давид Изяславович',2})
    box.space.crm_user:insert({nil,'bab3931b70f56b273a68905201863b2b467ae2e5156847a593aa8ce3f6485bb3','Кощеева Милена Игоревна',2})
    box.space.crm_user:insert({nil,'f7a98968761c5b77159fa277be6a5d3e15b8dd281b37518622491c4e403cb6b7','Толбоев Евсей Андриянович',2})
    box.space.crm_user:insert({nil,'3e46a32e1e2dd71fb860d4ca45d23e24fdbb9869450d664f25d24e541dad72d2','Чичеринова Владлена Вячеславовна',2})
    box.space.crm_user:insert({nil,'e61ee679c9f9ccc9d6c575e05fed30a5ad1c4b2f85ded749c7cdaa97e3136f87','Амелина Лиана Николаевна',2})
    box.space.crm_user:insert({nil,'caf8912ce875322c3141f6c334ba9517323cc3647fcf54ab6e1bda7d790cc845','Цирульников Евсей Сидорович',2})
    box.space.crm_user:insert({nil,'74e09b0cb0935650eb360d60b53dd4a24863917fbe9d928c2473e4ba0e17df41','Юдицкий Изяслав Казимирович',2})
    box.space.crm_user:insert({nil,'be44f91f001234e2d9c7f00cdba5cf04dd45bdfa62caf75ca2870dc131416604','Ящук Артём Трофимович',2})
    box.space.crm_user:insert({nil,'068a254e10c95be8a47b9e12dac6b3ac268a7aadc807203869c7708f365d1739','Халипова Жанна Олеговна',2})
    box.space.crm_user:insert({nil,'b870eaa78231b2d92cc3c58e974fc8052360d9fbfad8bfcc5451f6e71c111cd9','Цызырева Таисия Ильевна',2})
    box.space.crm_user:insert({nil,'67837f3d07bdf241f9677c9fafc6d9eabca3b007de0f4d210cd3332c53c5b058','Безродный Альбина Всеволодовна',2})
    box.space.crm_user:insert({nil,'362d17aee89d520c64fd6720a4bf9c58369237c0a06ae39056eb8d30ba4e88eb','Рытов Валерьян Сигизмундович',2})
    box.space.crm_user:insert({nil,'edd21a3a77998ac2e7a1c294ba74989b330e0c91d644fca19a9ebfb8b93bf556','Смешной Никанор Самуилович',2})
    box.space.crm_user:insert({nil,'36771c02cb26f675104cdff78e263936458830efffdbc32919449e34805dfe40','Тимошкина Светлана Игоревна',2})
    box.space.crm_user:insert({nil,'f517d5617348e310e39b2081321c0cc4de651ad52d95b0a9c33fa5e3f31cbe35','Ягнятев Георгий Евстафиевич',2})
    box.space.crm_user:insert({nil,'cd368fa29a4f9fc6d985fd7fec3bde72a6f5f20d36054119fcaf6877a5bda960','Рамазанова Агафья Кузьмевна',2})
    box.space.crm_user:insert({nil,'24f0b8c771339995bdf00d1f79b99a0bc4936867d8112a9f6e3177ec0e42c627','Фламина Елизавета Марковна',2})
    box.space.crm_user:insert({nil,'349f2945820c254cc7900e4876613aba866072edb0464a4739d985fbabe94388','Онипченко Трофим Ефремович',2})
    box.space.crm_user:insert({nil,'12fede9b4f12daee275c4c43c9e0053249c049aa8cbbe115bd7e3eefbdb86e98','Грехов Назар Зиновиевич',2})
    box.space.crm_user:insert({nil,'4ea67666cde8f16d8223c7c8737b37e5e16d761952db4b294ea8bd078048c41a','Глускина Марина Станиславовна',2})
    box.space.crm_user:insert({nil,'41285f849fe230b99bdde05e0e0900c0eac7df042383c19f24670032eaad3653','Картавый Мартын Изяславович',2})
    box.space.crm_user:insert({nil,'d950b56b4767bebe3fa85875b0d98e771d136adeac6c100af13b1693c8dc1251','Актжанов Юрий Кириллович',2})
    box.space.crm_user:insert({nil,'aed18ab89198996fba87036c2657b7d3cc7c2eb3c57509f0b51afe91fe524db3','Кутлыев Тимофей Зиновиевич',2})
    box.space.crm_user:insert({nil,'3523eb03910f4901d395158aa59e61e63ce01da8341518551443f1cdeeb2ce12','Якобсон Порфирий Леонтиевич',2})
    box.space.crm_user:insert({nil,'18021894bbed5a70307f67d9a8661786a7cc1e0f6d2446b08d2131864d22dd83','Ящук Фома Казимирович',2})
    box.space.crm_user:insert({nil,'f1cd7acfa47cb437e40b920ebf0f75ec4b4176f0794c48b8d662b3f16e822168','Есенина Элеонора Андрияновна',2})
    box.space.crm_user:insert({nil,'71b37d1a33b27231d9d29c40cd3cc84dd68df69a66eb78d179b4f2c42b98fd5a','Бондарчука Аза Борисовна',2})
    box.space.crm_user:insert({nil,'07a698d7f3f0382db2e8b09e961b4523633891faa434f22325b2028c2b781334','Анникова Влада Всеволодовна',2})
    box.space.crm_user:insert({nil,'36d5e19a368767d2cea4347053d4f08bdcef55500a199630e7fd5219e206617f','Печкина Марианна Германовна',2})
    box.space.crm_user:insert({nil,'df185595fa4d2d7b8fc40b4ada62bf20b8464cf1fc1e884b4213b3bf700e408d','Сизов Фока Никифорович',2})
    box.space.crm_user:insert({nil,'16d2bdd94778b1d4c108ae266c873bf7adf5dd9fef1e0679674ac8a571d36a75','Машлыкин Матвей Денисович',2})
    box.space.crm_user:insert({nil,'312c273294691c6e4b1a21028a3946c6bc1da03b7275200493c2b36711fb8e23','Киселёв Александр Ильевич',2})
    box.space.crm_user:insert({nil,'0b5eef7fe48606ccb1ce59679bf44147750f98ab0969ada56b6b1873904fb7c5','Куклов Аристарх Даниилович',2})
    box.space.crm_user:insert({nil,'efaebad93f15e15a125f65a16abba7b71e6a20bbaaf3388735c9750cd1afaaf2','Ямков Фока Афанасиевич',2})
    box.space.crm_user:insert({nil,'98a68989c558d277b5aae8b7f4e8017df474ea67c513706c5136c3db9af99440','Рубцова Евгения Романовна',2})
    box.space.crm_user:insert({nil,'966427505e1b2d139f432aa3e40e4f6165a8f96099acae3ad864c167672f4301','Быстрова Лариса Антониновна',2})
    box.space.crm_user:insert({nil,'c729bb5f8d6d0810e9a3e3db469a8f7c2b319bc63f5026f93e0ab6b8af683eee','Тетерина Альбина Германовна',2})
    box.space.crm_user:insert({nil,'a496b56c3fa0d14f9da411a42339573ef3f27138c7c7f4fcba632f112f57ebed','Бурцов Измаил Натанович',2})
    box.space.crm_user:insert({nil,'4ebf78bef0f63340d2291bbd1a1a01689ace7b6a893f9b2f7cb06c345c5cf563','Клецка Зоя Карповна',2})
    box.space.crm_user:insert({nil,'db19f41c31f47d8ed81970026d8d0ab8a4324d5dce6027a5a8373322982c6e30','Кедров Глеб Проклович',2})
    box.space.crm_user:insert({nil,'7b4fecb32bb97232f7f5f3dfefd48b171a810fe52d8e090105096b3629ee9364','Приходько Марианна Елисеевна',2})
    box.space.crm_user:insert({nil,'262e2212fc3f2ce696bbb657d4a00ea8e6153ae2e386a44733d1e709ea2ce95c','Жолдин Антип Вячеславович',2})
    box.space.crm_user:insert({nil,'83e122bee0d7e30c8598950f048366f31dd32ef0d5e5401c263f1be8a0dc82e7','Чадова Оксана Всеволодовна',2})
    box.space.crm_user:insert({nil,'5342b0e6bf0c5dc0a85fbd6161eea4b0c05b87a3ce866937d20cc22116ca6750','Ныркова Галина Елисеевна',2})
    box.space.crm_user:insert({nil,'4960fb608305e184ccd6346d7d975c49dad7b97a6e66db49ed6360bd62f5ac3f','Щеголев Вячеслав Куприянович',2})
    box.space.crm_user:insert({nil,'4786442315770c876d29488898acefbe3adca6eea29d92e65a848c56b5469cc7','Батрутдинов Герман Александрович',2})
    box.space.crm_user:insert({nil,'8689fe135128e4208f6b2ac2ab07cd7a7c7d34fcc432e6943828b9caaccc2a3d','Карданова Диана Филипповна',2})
    box.space.crm_user:insert({nil,'030cf4788685d9f5d80c94b4ced7cd86fa7f97fb009b26b926ae2dec4b5649f8','Кулатова Арина Ираклиевна',2})
    box.space.crm_user:insert({nil,'8f655845b711724e96fe1845babeb75f75553696e6c9ad05c81c34a9dc69b53d','Шумилова Аза Анатолиевна',2})
    box.space.crm_user:insert({nil,'70c4f5f910eae8e2754f6e2facfac2ded2b893911449714515ad339235a58065','Якушевича Рада Андрияновна',2})
    box.space.crm_user:insert({nil,'4735b5bbc3b577fe0863a050c8b3454a0b6dc90b159677f084ff421d938248a3','Кологреева Лидия Михеевна',2})
    box.space.crm_user:insert({nil,'2a5a667c69863b68f12f4cde5bdf02e4cac8bff9f0ab0108ea9673390793b246','Новиков Фадей Онисимович',2})
    box.space.crm_user:insert({nil,'3273b3b35dd6d3dfc5c472d75cc3b4ca5d03bb8c38089147d616ab7411cc27c1','Садовничий Семён Ростиславович',2})
    box.space.crm_user:insert({nil,'d170dd069b274c00c6d4c03fe4a1bab3f40ea45c7757d02de2f9a2732dca47e4','Синдеев Иосиф Назарович',2})
    box.space.crm_user:insert({nil,'e78eaf61fe23058cac625a1fc34f1d3e87a1af63b224533dddf3fdecc0d2b225','Созонов Федот Егорович',2})
    box.space.crm_user:insert({nil,'d757909687cc0c5c6da0a7e786de94b0100513efcbea04fe8ebb3ff3472bc7ef','Володина Эмилия Антониновна',2})
    box.space.crm_user:insert({nil,'44db157565f7b04cf9c8cef84a49a7ba9658db79ef923a8ca3c9ab7f93651bbe','Якушин Агап Данилевич',2})
    box.space.crm_user:insert({nil,'0bd75d43e46f21caa37dff0235dccf858c8c61c7d561782b511bd21486153342','Могутов Самсон Гордеевич',2})
    box.space.crm_user:insert({nil,'4fd0075db6ad1d9f816032ff499ea9a52a42f8f6b8a21669ba61c8c5e4a7f53e','Потрепалова Аза Владленовна',2})
    box.space.crm_user:insert({nil,'c1d12b8be35dd7cc722012372fcb8c92e259ab9ce282e3c4c40542d2e208ce12','Казанцева Евдокия Павеловна',2})
    box.space.crm_user:insert({nil,'4b889d6da95b5ec59d12ecc683e8a9a3293de8f87e23bf0faa488f11e55eb866','Поникарова Злата Данииловна',2})
    box.space.crm_user:insert({nil,'0935101347d8b924032502b27e090fa5b62a906c0bdd045a1dab5d34691757b8','Берков Мирослав Изяславович',2})
    box.space.crm_user:insert({nil,'8fb3b38c2ae54fa33e88962dc8061d13d22c43806afcf8c30990e04d3da4032d','Изюмова Злата Петровна',2})
    box.space.crm_user:insert({nil,'5a8d5a898154845086ca8b515cc015ca1ecdb970fb03fb8c8101f01be540cd2a','Молодыха Рената Яновна',2})
    box.space.crm_user:insert({nil,'ffc32316c5dfd23c10f6ca825fecdc004a4977ad9e5de7656a82e04f3f05134d','Яковалева Изольда Павеловна',2})
    box.space.crm_user:insert({nil,'881b1fd8d1d7b43ea9d27a47e3c9c010ff30c0f426176f7b1678d0cf16eb65e3','Земляков Тарас Мечиславович',2})
    box.space.crm_user:insert({nil,'e92b652339fbfd2edde426d1852a16f013beaea8eb1cf157d6bbebdc127cbbdb','Ханинова Злата Елизаровна',2})
    box.space.crm_user:insert({nil,'f5d5cbf540fe4ceb586d636ff6e39f8611179ed81c28887b9b8129d21ff68c8f','Милюкова Владлена Евгениевна',2})
    box.space.crm_user:insert({nil,'b5c7b65ae47fb398fc87ac4d4e1d44e0972507f3c159ae2bdeec69d46ce5f790','Селиванова Инна Серафимовна',2})
    box.space.crm_user:insert({nil,'b93787396ac1c601ec89ab1d025ee1e91edebb23b675b178d52e1fefeeb9b493','Лебединцев Адам Назарович',2})
    box.space.crm_user:insert({nil,'95dc267b255c8301f964a1c9bfb403a1baf17f0ee01b020bf24e5df3e737b777','Федотов Модест Викентиевич',2})
    box.space.crm_user:insert({nil,'e4c13de91af185970ff35bc6b7bb8289aaa1a63647ae94cc19cb9203637a44fe','Явид Всеволод Афанасиевич',2})
    box.space.crm_user:insert({nil,'9de965656b36cd4fe75f7c0cdcb99f0fd6c5738b81d8573ca04c5bbc62492cef','Тимирёва Розалия Елизаровна',2})
    box.space.crm_user:insert({nil,'a730b577bc5a5acaadf8a84ee4fdabed9f334bd61c51882a0269b627590d80af','Нырков Евгений Иванович',2})
    box.space.crm_user:insert({nil,'8c74e5b0f1b12e507197dcdb7d4e808406ac6a947550cbe501e4793218e4493c','Селиванова Дина Андрияновна',2})
    box.space.crm_user:insert({nil,'71c139e6529303cfbdb402e287eac293d06300115a34908b154ccb7806dcb230','Чебыкина Лиана Борисовна',2})
    box.space.crm_user:insert({nil,'3aaa6735407392d0428c29cc29681e5e25d9e14c4cb50ebeb6d608dec92378fb','Бершов Казимир Мечиславович',2})
    box.space.crm_user:insert({nil,'f1c9f977958359038c6e299d2e1e4c6c2eb1c54abc57f2e32467f0a7435ad6af','Сопов Архип Брониславович',2})
    box.space.crm_user:insert({nil,'b0ba12d0340900cc391975225de2048bbac73c775631ea72df0d6dc8c7686171','Жердев Елисей Ираклиевич',2})
    box.space.crm_user:insert({nil,'5446ebb6f9cba8e886f63e6a9d10779c4a7ba9a833ea2eac250d683ea5a7d1d2','Марина Зинаида Владленовна',2})
    box.space.crm_user:insert({nil,'14d306e897b2d8bd1dd5a7da1c353efc028e8a950898d51206d6a9dd9dd52a80','Салагин Самуил Андронович',2})
    box.space.crm_user:insert({nil,'939680fe239e32f97854be07bbbb95bc7b034519ae3ebc970ffbc76777e993bd','Мандрыка Кира Иларионовна',2})
    box.space.crm_user:insert({nil,'de676480357b8a123966f4626583728a271d63179cb3b2483c38e0912cf712e0','Кабицин Порфирий Панкратиевич',2})
    box.space.crm_user:insert({nil,'789f7ec4a046599abc3c0839e9f573b901bab5cef9263baa8c32d1e6d73ff009','Шверник Никон Сократович',2})
    box.space.crm_user:insert({nil,'a7172ac8e65b07d7dd288e77bd0ff2547dbbf0716060ed5656b34be19624b9ad','Бебнева Каролина Семеновна',2})
    box.space.crm_user:insert({nil,'197ab74fd5e09235a1995e09d6d9fc5d6f7a345d5bd76954b7a4e2f178971afc','Толстокожев Чеслав Андриянович',2})
    box.space.crm_user:insert({nil,'7b54a768ba0c3a779934c8b34ce0af26cf0f1b4ce192ba9bc6e1ed9dddc07bb7','Задкова Ефросиния Елизаровна',2})
    box.space.crm_user:insert({nil,'2a068c976e07db529a42f1d52f7422d8ae2ed6576d72cd4772951a9bedc08e25','Криворотов Назар Маркович',2})
    box.space.crm_user:insert({nil,'1e97851f5fda27b96aee93fca2ed860f38f30c8f9dfa0ab79804b5195e6884de','Гребенникова Арина Ростиславовна',2})
    box.space.crm_user:insert({nil,'42978e270c251469b78a022efda0a32fe08ac145f3b78540b2edddf2e7a43762','Лилов Казимир Самуилович',2})
    
end

local function create_table_user()
    -- box.space.crm_user:insert({nil,'ecec82c85aebea57c61361143c1b91cc65aa0dc88b46c5a73853ac4e5d4e2cfd','Туричев Кирилл Викторович',1})
    -- box.space.crm_user:select({nil,'ecec82c85aebea57c61361143c1b91cc65aa0dc88b46c5a73853ac4e5d4e2cfd','Исламов Тимур Ахметович',1})
    -- box.space.crm_user:select({nil,'ecec82c85aebea57c61361143c1b91cc65aa0dc88b46c5a73853ac4e5d4e2cfd','Администратор 1',2})
    -- Создаем таблизу ПОЛЬЗОВАТЕЛИ
    local user_space = box.schema.space.create("crm_user", {
        if_not_exists = true
    })
    -- Создаем последовательности
    box.schema.sequence.create('s_u',{min=1, start=1})    
    -- Создаем индексы
    user_space:create_index("i_u_id", {
        type = "tree",
        parts = {1, "unsigned"},
        sequence='s_u',
        if_not_exists = true
    })
    user_space:create_index("i_u_logpasshash", {
        type = "tree",
        parts = {2, "string", collation='unicode_ci'},
        if_not_exists = true
    })
    user_space:create_index("i_u_fio", {
        type = "tree",
        parts = {3, "string", collation='unicode_ci'},
        if_not_exists = true
    })
    user_space:create_index("i_u_role", {
        type = "tree",
        unique = false,
        parts = {4, "unsigned"},
        if_not_exists = true
    })
end

local function create_table_session()
    -- Создаем таблицу СЕССИИ
    local session_space = box.schema.space.create("crm_session", {
        if_not_exists = true
    })
    -- Создаем последовательности
    box.schema.sequence.create('s_s',{min=1, start=1})    
    -- Создаем индексы
    session_space:create_index("i_s_id", {
        type = "tree",
        parts = {1, "unsigned"},
        sequence='s_s',
        if_not_exists = true
    })
    session_space:create_index("i_s_token", {
        type = "tree",
        parts = {2, "string", collation='unicode_ci'},
        if_not_exists = true
    })
    session_space:create_index("i_s_time", {
        type = "tree",
        parts = {3, "unsigned"},
        unique = false,
        if_not_exists = true
    })
    session_space:create_index("i_s_u_id", {
        type = "tree",
        parts = {4, "unsigned"},
        unique = false,
        if_not_exists = true
    })
end

function tables.create()
    box.once("create_table_user",
        function()
            create_table_user()
        end
    )
    box.once("create_table_session",
        function()
            create_table_session()
        end
    )
end

return tables